# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: BH0kdb8eSbjqID5QeoRt/0IUFK8hJeSQb+VuDbqC7cl2uGZq+w/1bOi18S3uQkx8bLpF6V9HA8LIw9ST3I/AkUdaJUjS9VrgSz01jDEW+m7H7lZDYRg9HOgPaFBFBzy+VEijUnBk/mJlZBLSzWl+edechaFvT19A2/Vu9ngdGOdzpAjtcpOeUY/aBtjS317zWQgVm0RtOwxCKwhRl+FE8I7K2IFtlxUDhZwaHWAOfrdyWzN3IlAf4FrDl8WVipXQCtQ9wQoBfgYPc58Cgb0tGUTnzBhr8EeOZB1SXvrwDKg6Vo1sraGTIAxv6jvNX2u72gJUKLQ8KMBXQKw0cPxdccjpSOTywU18rLZ3gn4cmMWoajQTbSYkcYT2qzxk7z9RjE5Oweg8TTuwvpuqORrFCeC6RNstcC33/lSem5GIurs4Sj77Qpy9dTI/8PIrVLLn240IlqFrmexgpzOzxm0od+QHxeUaDk5Xd9nEWsXY73XwNe9SojZcUlGK+q3qdkYy82BbrBU202ifYcZW2zry+QXUtIuyMVdzAedRKPlAZhMLr5okgWZpfejIxhSxZDAdhJJre7V728g3A634t6uHKw7aBssEOXS9V67EvzeWBS64ICHTLJVHYepFjdldSdhp3TtXY4guXGHMAbL6GFojW5Yg31/+9LhPTyJhdpUCwws=
  - secure: lD0J+fYc0f2BE2Ryv1uthQHf8O28id7o7PGvonzGonq+56vQUAzw/1pStH3PEpqycEORLKp4D5Msx0mZgPSvKesZqZtt4GSF+KTdhGhnaLnrONY6HVUptJPbaL9mGDKzqPw295sEpdEuS5gPOO29eFJ/LB4X8nWHeV3kzOWfcWVmQqypxYj6L+0RQoaMkKj50p1yfDPLwD2C6Sz8ZvEatvJSoQz2M50hVBexlMya55S75VuE2/J6aIG2fgdfsa1ErLh8AQI9KTS4AG2qrvMvU5mbHLUYNszX4BLdNSxHBPbyWq5j5tM13zXE5+2oOCu9GBROv9sKY+RQ2Vl/8EfuZpe7gzTrqD8VF6Enk3ZomP7QUti1F4MFd/ulk78C68ybqG7n9Hqpgjfeer1uhX9bRdDjt85EiHLJqS/VRwDWnH0nfLBLrLBwcX/xDQAoSTETtQ80VzBtXFdpjL6dpsOzilsU+qONDV5mk66dx2/fGmP/qbu4eqVx2jOmNp37JJpqUM78XtN8VzvOGcinbK12ztwm1w1aAQDyp05VslZ1PtsuvU8XR+TQqMr3OrRAYKYFWifMXnSt3gEOoqpU54M69UGFCJpJ3SZI4g+TjxS/kyxiZlu4Zs35RW30Blxxy1Qd541xfMPU4u3Oj+IZb0WgnX9OE+9x3t9DdezeNe2HUts=
  - secure: i1M//sAi0Kx8iEHQZdcDN1CrmL/RQXqVhI7t286c5j4YycuqrK0vhPcqrD05hZQhkiJ10L8B24dRj/Q9yxc9JDfg2Xuy/VS74RVjMigghN80GBB2d9eHAGo9LD1zbbf76CehyfEDzC9uQlQcxCrfo4h/l5SiRgehhEAXemNph145sSg2rJLi9AQGfA+x3/1enK75HW9JaJMs+pdlEDq/VsVTr00c1DtwU/9uB8bGCzSkTdX/xuee+vjzTJfL/5HVbRiiiGUQcWS94d+djrJYJXD7qcZ2X7BlrO3sQf4Az7r2NP9wwBxTVGU7Nx6jJ157AzwrOdbziGkUcot+jkJHStNZI5TbllFRO5x8dWaK0QKLsB1RD1LuSmpmhdN+6kFaR8JzJtDnJt3o8xn1b3ovAYW8P8uey8+tDclo7HZjQjRAiUUmNbLWnPLAJw1WPGypx2TkyQzXEc2VqaIJae+JJXblFlAzQ6/70PodS0JFbE+D38hjURo69tDIoSWRQXCOLdgkdVf5AjuJSWELsu/NHyFR53t0GYTDOYfd3kDQ29CfNLyAosv5qfmLa6dzPLGKoOu2r+djwWCaOIdj3X5SEiyPE3UtKS4Yt+6sZTp/CU/o6LMuG46s8bqnbrvQspFoQc0Wkro3H+ZaHkL2Oa8Vm0dsxC8ZIncen6wcDysl9YY=
  - secure: M2528d/CBTfLMvbQ0tgC4rymnmvgkSwzSx7a7tNYEwqtlmjpHwpI1RYZaW5ZmsQ5nk+qjfWHhualE7/0+H9CIOn1U3v0hC3dMrTp+xos877xxv8ev3AiL6zs3waZ0BX2IMFed+hOXM2k1bI4z5EzUTpNx7bmbzI7OylzvwVTLmYX30OG0Dq3P5HWKxbECcf3V1sx2JzLrsayWGMDeUJxGMB6IbAT1IoBH9O3RmySO/e1QZgv1faCQFIQ9oieBTjLwkteHNTbXBU5UwmC8WeRBRvnszp8yWfNfS4o/kTlqBRCLEMco2wVGIDUF+l+EncMvyCGltXv8pwti/RWoDJnX0ufhxgcoCqnU6PwYqdSqB4LFRkX5dVHB+kPXPR5KhdAgUEfBUxzKyGAPu06f96JqomdCf6HwswpEut0cFCzAOISJTom9xrUg506UGx75FJn9WoclDaiCoVK7eEcHNYGevSk6qExzm3S/gQHX9p8KCJlEOejF0vBO5L6Wz9JODCBn0T3xxK0yUP6dpXPFB9dKGwzHw0bHPbBBgVV1G19X++AwoRkYSN4e6od3/YZBWAvPgBjGYUz5z7TByoxoOptaQzYI0ojwwbKr/ZfqX8EuSqmbuNra7KU/Kc19vhh7eAJoQi282vWl+xiD0w4+pjUnVbbuor0CYX+ANwbf1nB73w=
  - secure: OqCccN47N/JpDa0jzv6mfLOOoPlXsMPh+VakUXHIBGrsWsZ1W0/HjIGZXjZtX8WPlENsdPXmXCz9Z2iZ1KGGYbLA13U7IIvJX7iVle2T1p2Y7mA4AcjMV+uP/gUBcFDttB/joJENAIZxl0gFXfrzvTNI79XMcfZp31bpE8goLY019i5sOky352IxdVT2KZJrr7JWX8B2wwaQ6fTWwy+EIhxDozSpp7ceiRe6d10ljQ9vLhCF2sQcjsY9i/29fmpXhHxfEwBRxim83uisdciMRFesJkYES/ZWh+UjrIOkW7nr4hSDx5DVgpUybQ59/seQ9pmpAHMyor3n8Th6s/aPk4CrvIARfB5r9NNkDFcFU9jPpUlVHDjWeEKoTYTUKLhE6UfwZDumCy6S9drX7YvTMSfcAGnzUMQ8jWOmunhfXPV1HIiELcd4I/rJbMPmeaY9yytNGs7+f8p5ikrsGbKL8/F4aq9M+2OQOXTyqchxqgVZ6sgDHCfGgFvcFUU8EfBd6Ke6W1mDArthgzdr0RLB6m+KtymjCA4Xw2jvsLr5+8n/YGWTLAmZBYfGntQw9bIp53iu1/eAJnIB9FJ8rJl6eONlUBhn+xZsSbDhStmKRROOfKw1Loagrm2kClwhznKp8Ikf/T1PpLu1TXUrw86NiCn9wI/VagwePYOuzhDt7b0=
  - secure: NeEk5iS8YXtartTZ3/aM2BqP7tw9z2kBkSVjw7vNhsYCf5WWis3NPgduHBuSHh5HmH5GYOzx/YCGH1OqXNBwj2bM5KbWMdqDQiBIpxLKiKlipcEcpXuIA/cYY66Vjd4ktsRkd7Bz4whl8wx2WNZuNUSdgeEs+eVhXgL+P2jFl20Ibgf9DcMORd31WaY4ZZuJHH67HeBhXipMJgAeGifDSheBp2WbiWU3WGEjvGsr/Yi1sYRU2Qr2JAwoVpya4NxWY//XYKzskJEqfveXmqESUlnk4icGe/lzMNHqCqWWc5UEdyJw60XS5VsVgKMNG4q6FGsQYxiStsqHxH9BGBXAEINMZdmTOC7thqj1UX9Lr1/hP7NAL0VEqRUjbhHhN1K92XLmyQF0Wi61j1sgXPJFtTXtAVeJGlWwKj682Rs2whrg76C4gw+ayybFmdHjf3Q41MIRbSMXfzUX9K295CChkNSjSRDkBwIosL0D9bwfWE4NZjPuBaJhovlU+fx2pUjI+WLHsu9l2BDi0kR+vFWsJSx5CHsNiMuUJHtmVzbkcLjFmGcMq/E0VEvNrICuncGaYqAF8fcOlSvXfkk6zCCddnbKLXWl741T/AU6w4Aps50VKt3SFTwvpPbFWqiArJGFN/By9PSAV2hg1P/MDM+UpVWAwZVVYYC+ZnnXIraRdio=
  - secure: 
  - secure: ED18vRj9tdN1POYeV+Yts0hrJGCXp/DPDAngWTW96tumZnC27+DGF3M8C54N0UVeo4gcHfLBrUALl4NKIBu+/lUZ8/hcADQqzJ/ZFagAGI5slMkB8BjB51NarJtvDgfIzbSK+sYUTj6Ty1HhLz53jNVm6u2c+/Nkh21UlcJTPjzNlyuQ5nGbISopf2m5OS76UtWy54/qN1nLA6Q++oX3ezemDoMK6ZxvLVICfjAOf+jDM0giz1geYDVZH0esSMZ5R1mrAlADhT5avW3lEBTcVuuhMCbFW5lksFeCyu6/90u7lWzzxsJzKe3l7hfLEbWig/sDh6PndHKb3LsINa7OaI7NvUwyP9RD792iNbSxvDi9ChS7wVxDJLrtf4AYDO766H2px5UoAU5GPJ3m0sou7SWFYUsgVMXijrmHxLJzTjMjEMf/KajWw+rQRNrtFZkrEF1QLEHlMnzEYexrlNeKk2/qRXhjKpmQLwcmGrHgUKFBFF98ARIXexOMmv3L+VSW95ZuTkH64wynmdVy/G1STaIsNsxtdIC0mnjEzEfZHGV+HEAFX1d6yhn2ZFf8TFyW+/XD5+XuVu/phcKPtswDfHvU4VSoROejCIgpY2WNAL+HLCcqM6mhrZ1A/K9mx2pxNUA8CLQcWIMxcxNCyL/Whdy3Rd2HH6H+M6PwFJMCmgI=
  - secure: Wh5qviuKEWZocut8Xk/gIkcoC9be2VLPqdtSC7VdXequ846vDIN2FZ5ve+zp9TDwC3+LSjkWvbEe2ilX8/erdgSGvDnFPaT8S53Vj6jrRqcXjmjJGCOBaDgihig7JoizQ3goYwbJhhKo9DoUp3lSv3oimSStceJfeG3199uM9kqfY0Myae6FFZqIG10zpFBi48jWPxknTKGdLV6ZHB6Lw1zrCbY2KjPV1bhmqyVuk/BEYRsrQoHfDKcrU9IbtP2sGsIb92X4yFo0EZURdRbfO3hp1yRW10cVouw1EU4OLWvlbyLtjwDu9U2t69VtePXeOdUxFoh72mEs7YjUR2NqQXVvzm7RTGFZDiPro+P70oYzmWBO5f4/UqeGZDKBFXFN86Ub4jkgNqjb22kEDECX/oARNBw3wToEzBd1ZG3HnjyIYz1lh1niXrCgF2+0OBs2aJmAwtWKaOofsAz3G/uuJNWB+irN3zBs8pXFBzgvoWfvmo8lXsERanTYU/+9vFSEP9QEb84mXorYDOLQou96UJjAgGtXnax6mRt2lDvk4YN9ZEye8YnJ8AYJZBw9Ht1SZf3eaHZiDWPuIXUrNIqYa9JmnVU8GeUVhmB8TG2Pq9MiY1BS1e2L/CpIm/Mc0AJ3z3u/SyYt0aDdp6F/J+ULoaQpgIwXEafZLRtq3sb+ilw=
  - secure: gQRPzK+9XH1yOtXUdDfGURZY3jvuXLjZJMCESIUq63HUIApiEnXio37O0oMaZ4ixXe3PtJ96XwKOb/qexIAv53lieLYzxeF5p4FDB8VJP62t63dRZfJmSBd6T2GSOGWOB8OiPqxQl3Yj0BJW1uisWIpSjhBM/lE+XaKmAV8dt5SW8x55zeN1aUIojz8ixVMNx0Ahr8CfmZC1d0SaVgRGFnLejOcKTJZ+tT9rdW37SPHjNDHrUQzZx0wOHkuAKBW3duhSPAzPzVcPJWs084hqAYudZIWf9096jkdJk8DVZJUbdHOJRtqI4BSb+jrOKb3kapbMlVEPsRrgB7SZ80AoNkJGEcRXOUf0fO0wxi/+Re+4mMPIzz+PTyedjHL2dnguKcVcho9S1p90gLkdQEwZEgL64CHJ9ZD2lV7GyhkIvRACwbWL9tFACXQ9OnWUK3lSA05AtUbJoDpwSSApTc5697jpaMrw2X1XBqwXvq62/85MjE4luPNoGfePgbseOF0z5z1W6rReNXInE0iLrGzakywgRGR1WeClwsECUzcOpdghgmz0nO8z/bR+25wk69P+3sYKIAkBRJhiaOe+Jpz8vobQbSPpRupSPLW4Gobo61NeNJfvqER/6DUMIuiLy6Dsffaa+9W2kS2M8SWnMYfgxGrirOV6BhCVbOZY0Xg9l24=
  - secure: HasULcujKR7ltfgB5EpT/KfLH+wvjzej042CeMpcbY1OGjCT9GsQemrIeldgZZGlqYTZEpPQbuAYfJk6nEiGBpRJsR3EeDXsCfTNsq3nil57PI0sHtlOK1EKe5hVotrii9hARh5K1+JFl69EdpKRIop+v0uGZVfsdXUvHYp8ppu1ysn54LK1tjbXnOxTT9dMcEic5aEUn7G1iIEGQDWnYN2K9lLhDkpy/hyyi6gN5DyzSWO8PeYlhxXP5XPQFTU6lUITcX67Xgo7/F3jJ5WquvH30OKjP2HxB7E2XkkdMSQOHrBEYdqghudQAV8XOFLx50w+hw+d4QAVVKItH/QqQYnrdzFsmo0gomQn/gk++yPegODDe15jFNh2dRLoL7ROflENMijjpiundO/zB0tVmnn2i9reP9Fe/prh1Sj1Osk1bEzFcp/1h9fw1WPoufViIiWq+19wPpsgfc2nZ85g0Fs4/e3GX+ONFMjvNCChrNOZ73BJdeM5HSzHeiraZIIBnNd68FeTNG4Q4Z4lXTkK+NM3xr07/fBa8K8lazdgOwbQ8XEMOY/rEZn3Cig1i53eB/I39cf++z/AOaBqZuHjuRIUfI8RIll6V7H7mYzVTGoIfqaPuXfYb/ED55iJUytlEqpwYtDxjTWhAdZBL3H0lXlVOJbvmxOWdxQknNauCfA=
  - secure: mBS3d2ioa6dt1iePgmKkaGgfxU1nWUcBNNNOmWk/bN5xiAUcMeBk1ARhmr3IwHJDoah7tgOpU/9YsnewnmEfWJm0g8aW1SjGPQp7G6WqQT2iFs5P5/lUDLbv3ptm6xkwvnYhLnoIgapO+RmCfwWeCFZWetG5uOjUgaRiJ2Sdiqfon+JVK9H8Zha6ZTkDm32bGf20atb9PMeyzk/Pnl3NlZDJNA1fFv4Rf1O7JMnLKQhBUNnNNTqvDV8zp3VSqZuvs2O5wfY6lV+pgaxyLx3a+QC+t/Oilf+WyIvMDg5Qc5BV21KEtb1te5IjnMs1V54LNkDYnMSE29QoD1pQDAmBS5FUcm2k7ZNd+1mC0uUKjeQCaHcypYHiQdtUdr7k4I4QVkYsGMIpKSsqKL+a7rw53oMm3rkc1G/PSXTWosh+AMDpXus6gyG+B1W4OeeJfJdjrKGAkfscudWGcEYR/eqFZIoMzxqtqJujKx4/oOPMapc8i2itBoNE7DxmvAp9hKsPaekVrTTHZKxfP8hKTCZriGK0CBUWD7Ten8tZ6/i6MOULMID6BwIaSt61YFW7JcknCbwqkT95aCQ4t2qUDtZt7jBDqPonqMFUt2B/tizL8oucGHUZ5Zxmk/vBi+zF1/lPI7Nv4ukN2gpKnKHAE2JJwZoarmu0V/KUJxj8LgZQ9GA=
  - secure: heYjhk/dfA3XTCtBtKbqTR2P3rcpWMlnUHdi2r29m5r5uhdW6LsNb8/zU0hF2/B7Z1zvyLaszjRGMAOWk6IxsEH7PzUQLf7OhWm5EW4YaPqk9btwghR24KSpkCzGkWsc7T2Z4hOhDshkkueayb1sJizRTaEGTv292nn6vO/Wb2KEHCGQbOIK7Th/fkg/Z5SzUXN0leIEk9uKdeGJnpId3NYz9jMbGDLtRSDvFzqo+vnsVHOdpVVdra3dW7O1V8a2e0BSU3gyWrt3w9F28jHDIIrOzkX4g6HDDHazrL63mHsRBplVYAmw1tl/O4/vZDXt5nIr7HiyzBMMKkzo64dNQ6/LZUr36M6MPfgdqI7jFw36BTUeUOCNFqjASh7vSeBD3lhobkkSFfsfMLruPEM7IIMNywflG1OkC8RZcdiCb/BrFSUsGWRfgDbFX1BXCdbuOvUzWWCmUF45UV4Fb3/r6vrabgSyC7PvACr4ooJ7wldYhjY0+Whcjo/hR/nFTxwlfNEWsHJiQf7srY+kildPhPhU1uSJ38rUNXlBdMQaIr5hrf6UXk0x5P8sRlVAL+x7FVYXl9VjUjEiw9qqmc72SFqoT1hEAoQNAP2P4afjl+PpPgk1PyQ2CLcK4+3snRk+3FTRrI0N5VDoz5O5PB16dT/cBPIg1QfrWS2C8rX9/so=
