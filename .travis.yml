# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: Ulu6e/83n4pjVLVOFn3K34BbVuX+ghFFTw/WuF477B30u5i2w/Ch0zqdhzzigNVECfr7hdbrfXo6W5A8Sy/v2WMU4XXkqjK2sA7yrkyeyAbUgMyW1cj0bqU1p6vS5XPzmdarnJdzZ2w+13p7LQMH5VTo7ovmNzTOdBw+MDoow8i+K+Bhyait5z7wqGooPYVqvCyR8Xq8vKrklzJ5QMlqa0BFTBeWtoH7RXHOFStwmstElPYrI8x8xOhd99sNCbIZ5A5wag6SCldy/J7VkYnaAHWIcPRSZfJLqldaOaz8+w1QN9Z2WoF7qS1EY5HTbMeEanbQfl4gRpO7BISSGKyfMsNA3q+lzgqsJ0a+LITL46BiB4Y6AI6TZ7gjPlSQVUxsN/3oZNSAubhQwUh9fCII9XxRmdc8SmCC0OoqYztBdjytOpXOqDC07DzsMxL5EyKG9B3DUGsQMDqcxhCbMGY+kHDjAp7T0o68dP0IRdnB8m3LRuRm0g2YqUS+3JmJYIFJCSFchXs0a/Wa1KWUj4FV8H/sFcZVbyfi3ORg6uMUtReYJxn7Mbz4klk0DtNP9eQRptmL/RdWblJHk0DArxZycTtW2tMqb7ezvFstknwRjHsMssTXlLHmN8vis6aywXKYi0hlZBDfkn20Rs5tlexEcTIrolLQ8aB8tdRiaAupBvU=
  - secure: TzxdCunUMSCDIWo28xUM+nNwWxNlYLUHpWjqDUX7eB49DJ84p9uzcziCHSlIcPCnsiSJtVF5JZ67SKFzzExz9m2ZlTrBoewbaMBQVlG1EfZJEXmTPb9/c38a3EC8pdN5jS6dMsL7CqE08ANNtg+FDGrEXgSQ8t3xvmskJn3LjrPufxf91Z7hCMggqgGtpZrhLQ/vNv57aO/EPFvDifLv/gfh9/wlwZdPT7bJdr3V4H5vPOYgCDpJ7PxvJVAGgH3bdUCcYFh60hI1ZFNDdj3rX7Z09TFWwQ8tIg0lu2wpxAZ9PpT++THIQD4cdPnBNnm268Cja9rnYoEgsBmG7PWppeCvGW2ClBais7z2rvrJC8ZwR+B+VyJH7TkaygLzmJMgKNCmGexOZMJk1QZCyjHkxkp3Z34cPZLkmGLI6KzHghBbHvQeL8n208UxElSCiPktdASCr4QtY/dqa99v3I9qUMfmm6u5rOGX+0DKeD57CoOLbvujBs1ow+gZBLznwVJCP8zaAxF40aYSaIEsOXmx8sd2c0Up5kKF2J1YLGa4XJ8p78Ryn372J3gI6p5VyOJZtDfri2rJfe4azRc8xPytajr37CxMxD3VEcoBChZEOxpq/CoDduDwGKHB78zrY+pu+vN7hjtTaFWu5W2gpqDhVh6u4WpSz8DuiZ11EndIIBg=
  - secure: kw3KASboHfUmDQQ3ZG5Dn0goFizH3jeiqE6Yx9iU1gyhwykzYJ9SVoWOEyvgfLMztgACVx8pFL67eyinZVE3+6Cv1fw+TQbOYx9KTtoHVGAZQMyA85lLAthHv9GZJfMQw1RvA7xFUW50cASa8+8ak+zvTdXlNb2I4+TJ+n06riSBlMhGQoaLFas5K8tM7Baa0t8c3V3pxBls6vvuP6Lcjo9va1yQ0Hrxrz8mzw38h7m+T8YHXRiuLKqJ0wxn+7HAulej44NZt/mbkwKMxfpMgkverC7ts+A8IEmcy5uQOdozDxpTBVUz7AnUs+3xniNLpSo+WBQY8gxcocMZlj1s9WCCO+JJQzSDJEkAdz22SqLXvzPZunlImPPRADAj7hto3aQO/hfz8GYTxe0u5s8E6O832tuQdIfZ/oPXlCMbrgkkPx7DrE4lnXRqMI01MDddRMmx4FZobMxx54rMmYj5LGXAuaTI+kIEm/rpiDO6xvClS+9sDfumcD1506hmR3Evnp32iQ/7G8SAOu5Y4zGwpDf9+xRySR08bWvB9erNnm5kaVCge203y555RCnIrj8V0BaqxEuRSybvOCK3dofYdBO0nz8l41eFLX++zRLI0txhKQFaMq/hq6x9hnWPJFHIyUyScAuD/7eDeoVEmzQ47QiqZraI4aM29vzZzOBnCwA=
  - secure: l1g5GVvP2S/DUF4RVgrLEt21Q6R+01ZXoA7gT+OrucZvgTejbFvAjb/shfArDMIAQu5OW6eRuYqjAysMX6JBw8sNRbY2Ah5TRrCI0rNvn60xXSjQRCKR7FX9xObcMnS0C/1wTkN0NAql8DLecSMvvDo+txLF2NXWe8kZ4nWh27kXzqcgA/1hxd25NT+V+Fi0JEEvAheSsZHVmkEgZ0kQggt6DmeK8iPrUKeiHYqA7jwvOfRzl8R7LkGzEIYltpgNee6snfuIE66KwYgXsPn9sqiuGeJheaeDmku8/vfm53duq5OCu26xjyyMnMqtGuWS2DPvQ17N2fJqhwAUNaT1lbkqjEt+d0J0cpY5vBqj/4d3B1M8Qvuqk9iXYgVPer28bDnRTaqCbG9PNWPLrLS0jebvenSQacg8gyFvtqLvDt+Bl1tuiWobh7zISTnndC5GGE/TXxLv/Fjntqb0XCuQehlsHG2Ufr+rYcFxh8g+nGTNVWgvSyfUQx7Lu8Eq8Z2LFOO4hl3OvbscllRcfvAPj+VfWGAkCsouEVdwJG/NvUseL8LvRE6izDPlRqTkzi34ynHivqf76RqJ7jdLXKeaV1I87TVSrknM1mQ32a8MZJvn3c6t5+LjqfVkApwX8WwDPh6EEnZaFbAi0f5qxRD5c2MBmCORJtwLCxdJEFDoUz8=
  - secure: I74r7NdEpLKouGirSYVdvRQMhqkWfJeWe1y413aq/pTRmlSfWVAtf1vDqUlW5vbuD3hHY4k7xZHTuoWlL7i8pqPMEML6rfjaDf03/ekSkJ8NE/8E402J/PyU3A4xOF5pohDCUq9/+1noT0auhD+qtXwrbmwDz8xjdoBCMWc9kM4MSjbOLSGIcAOFCUEs9YRIp9PxNevTXQOanj6RIOOS2OeJAD5NmA5BYeRVSneAFP8pDWoDjin+x60wRB8Cr3bynTbTEJXD+dUpFAZ8WtzjUyx8wtqnxNCGlnZ7z7FHodhOBoAKBp2jJ1pfP0DyAeFFfgGO64Yx4Cf3v4+CsBk1RvPO03oE+XJ4NaKBMXb9OpSF2u0eHiMGpaRuR+9RzJTc9lhUjDWOSbUb2pO9LJqmhXgb7NzbiVbeYvPtVR59VJ0XwatKVTOTP+onR3zfeNKpTaD8WO514FxSntsHjFKqMHIdP8Crn3WA2NXoMPx4kcLgYsgqKIO9jrhfeQjxKGPUbhQ38+fmmhAqYc/64E8wCB5Qh82EkufL1Wg3tSj8Qt/KpxV4iZZ10Jh2ywTalRvUcaTlnFPQHwJ82KMHHQcotfV0zDCOOeHCHK3xCfFGDFBZlz1EBIJ84y2Ds2Yop+2wBu8L0+nCazSYdVxIIcr7dvoQpRdZxfKz1YpDj2zegpU=
  - secure: Y6wtusLxuKc+u4feW6RRYNgtFqHuEoqVevN11Pw0MTY0LsWt8yJ/oFeZTnuPbi5VqjDgeMeXwlIoiyeHaT8dBtfS5nptiWk4JO8tD1ZPJIOrWzIYI0bbSK+cfprmDU+T9JvExuDgAx0MkO7uuqvrDJytdgady7g/IHiSiR4mnLyXxGVfI0TQmRgQaqeNHo7cQENp+Rq3nDCN0XcN8JHDl9gEiUmm2sI4LLmCiafnyhnQRDy60OOkLq5vS8vdPu5X1TgzDm1mDFEBWhkG52L/8dqtCj8/anC5zJB+z3eI9n3ByMIHxiEayIEPzvnNRWM9jsUnY5/wuhmwZmv8qCzpMPxBgBz7q56zmUR4SE/861YcGukCfECRYCl/+jEwwa4Aa/uil56JQWalzOH22Xxo1OeuzSglzLKgoaHKNDe/+aj96B4/hji4P7waHy2e3lt2n+dCElA9GuukliNkTe4xHVVJh4VjDJn+fR75QIGnX4i4mcaxnMIcF/cvCeJGSAr3LK9xI2W4oJoEIc0T2IeVLditG7q8LezLCJDcnZrcUjOIBfyzFBzSHMK3pyYYeQ/WZ+rugtCxggbKvl/3+k5Zl9uWRfB1pjXHD2uz/2d2s6nEO1pS1fLgJdg7Ds+1sGdLt2FqMW5JDY2ALF4eSC52q5+vB0sM3hJEwi9PHE2R9rQ=
  - secure: iFWtkNMx+QYOsTNgq+92jTy3Af9nBrG3kVBVuHgl0GF11/96oFl/DhMpMSkhfixWR/YsHC+NSR7b8FO2COU4Ka7HmD2o4/SpW8MUwjYxdefogsLijRuH1zi1sBLEbfzNkAGPHfdynOkbZ4+ZBSpsFR+x3JObmqeFsmIf8JzmY6mML3ZMVXGq/SQC0H6RW6Yys0vEk4lHb8E+z1WyIhLOIGcOCvp8dwk7BRCIR3ul3o7G0aIkPB9ehHt0jkMBY7lbqyJX2MpV/kmOK/3NLTwuuQCBRt0e9jzGo3kLYr6w+LIja0biv4t4f2WN3xEcdzSLEAA2qbqTpGF/EUXAi1cmRsY98NwdJA8Z+TIKmCce+T5EEAgyCsy9cQQd36vXI2OpFaFdskErAouKlEm1jW62jegD1I/VG3s1eRKqySXYlwDSn0TTDpAsudWAPaEeQnvaLwchpvDfmJp8U796EwhvsximdCUOIhwOeLNZ/Vxx/VzMYGs31zuWs3lEJSqmaNOKcOKBFZLeRtoq1XrdiaZuQKOH10tpIBN4nIOWZwYDIU1goqDHGhHGDboCE87LuYVTTWn/hkPvtegeZywDUhbjEHs7ENgYB4pTnJBuN+1bsPXISIsWwbqCH17ZcJA/WkIFS07sRzjAmoA6+rvZv/Kb+4r8oIppo3U5nz1GiQbp4EA=
